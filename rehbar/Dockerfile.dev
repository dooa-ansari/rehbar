# Development Dockerfile optimized for Yarn 4
FROM node:22-alpine


WORKDIR /app

COPY .yarn ./.yarn

# Copy yarn configuration and package files
COPY .yarnrc.yml package.json yarn.lock ./


# Install dependencies
RUN yarn install

# Copy source code
COPY . .

# Expose port
EXPOSE 3000

# Set environment
ENV NODE_ENV=development

# Run with yarn
CMD ["yarn", "dev"]